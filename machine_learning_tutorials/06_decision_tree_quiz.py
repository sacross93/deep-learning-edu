#!/usr/bin/env python3
"""
ì˜ì‚¬ê²°ì •ë‚˜ë¬´ í€´ì¦ˆ
ë¶„í•  ê¸°ì¤€ ì„ íƒ, íŠ¸ë¦¬ í•´ì„, ê³¼ì í•© íƒì§€ ë° í•´ê²° ë°©ë²•ì— ëŒ€í•œ ë¬¸ì œ
"""

import sys
import os
sys.path.append(os.path.dirname(os.path.dirname(os.path.abspath(__file__))))

from utils.quiz_utils import QuizManager
import numpy as np
import pandas as pd

def create_decision_tree_quiz():
    """ì˜ì‚¬ê²°ì •ë‚˜ë¬´ í€´ì¦ˆ ìƒì„±"""
    
    quiz = QuizManager("ì˜ì‚¬ê²°ì •ë‚˜ë¬´ í€´ì¦ˆ")
    
    # ë¬¸ì œ 1: ê¸°ë³¸ ê°œë…
    quiz.add_question(
        question="ì˜ì‚¬ê²°ì •ë‚˜ë¬´ì—ì„œ 'ë¶ˆìˆœë„(Impurity)'ë€ ë¬´ì—‡ì¸ê°€ìš”?",
        options=[
            "ë…¸ë“œì—ì„œ ì„œë¡œ ë‹¤ë¥¸ í´ë˜ìŠ¤ê°€ ì„ì—¬ ìˆëŠ” ì •ë„",
            "íŠ¸ë¦¬ì˜ ê¹Šì´ê°€ ê¹Šì–´ì§€ëŠ” ì •ë„", 
            "íŠ¹ì„±ì˜ ê°œìˆ˜ê°€ ë§ì•„ì§€ëŠ” ì •ë„",
            "ë°ì´í„°ì˜ ë…¸ì´ì¦ˆ ì •ë„"
        ],
        correct_answer=0,
        explanation="""
ë¶ˆìˆœë„(Impurity)ëŠ” í•œ ë…¸ë“œì—ì„œ ì„œë¡œ ë‹¤ë¥¸ í´ë˜ìŠ¤ì˜ ìƒ˜í”Œë“¤ì´ ì„ì—¬ ìˆëŠ” ì •ë„ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
- ë¶ˆìˆœë„ê°€ 0ì´ë©´ ëª¨ë“  ìƒ˜í”Œì´ ê°™ì€ í´ë˜ìŠ¤ (ì™„ì „ ìˆœìˆ˜)
- ë¶ˆìˆœë„ê°€ ë†’ìœ¼ë©´ ì—¬ëŸ¬ í´ë˜ìŠ¤ê°€ ê³ ë¥´ê²Œ ì„ì—¬ ìˆìŒ
- ì˜ì‚¬ê²°ì •ë‚˜ë¬´ëŠ” ë¶ˆìˆœë„ë¥¼ ìµœì†Œí™”í•˜ëŠ” ë°©í–¥ìœ¼ë¡œ ë¶„í• ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.
        """,
        category="ê¸°ë³¸ ê°œë…"
    )
    
    # ë¬¸ì œ 2: ë¶„í•  ê¸°ì¤€ ê³„ì‚°
    quiz.add_question(
        question="""
ë‹¤ìŒ ë…¸ë“œì—ì„œ ì§€ë‹ˆ ë¶ˆìˆœë„ë¥¼ ê³„ì‚°í•˜ì„¸ìš”.
ë…¸ë“œ ì •ë³´: í´ë˜ìŠ¤ A 40ê°œ, í´ë˜ìŠ¤ B 60ê°œ (ì´ 100ê°œ)
        """,
        options=[
            "0.24",
            "0.48", 
            "0.60",
            "0.76"
        ],
        correct_answer=1,
        explanation="""
ì§€ë‹ˆ ë¶ˆìˆœë„ ê³„ì‚°:
Gini = 1 - Î£(p_iÂ²)
p_A = 40/100 = 0.4
p_B = 60/100 = 0.6
Gini = 1 - (0.4Â² + 0.6Â²) = 1 - (0.16 + 0.36) = 1 - 0.52 = 0.48

ì§€ë‹ˆ ë¶ˆìˆœë„ëŠ” 0(ì™„ì „ ìˆœìˆ˜)ì—ì„œ 0.5(ìµœëŒ€ ë¶ˆìˆœë„, ì´ì§„ ë¶„ë¥˜ ì‹œ) ì‚¬ì´ì˜ ê°’ì„ ê°€ì§‘ë‹ˆë‹¤.
        """,
        category="ë¶„í•  ê¸°ì¤€"
    )
    
    # ë¬¸ì œ 3: ì—”íŠ¸ë¡œí”¼ vs ì§€ë‹ˆ
    quiz.add_question(
        question="ì—”íŠ¸ë¡œí”¼ì™€ ì§€ë‹ˆ ë¶ˆìˆœë„ì˜ ì°¨ì´ì ìœ¼ë¡œ ì˜³ì§€ ì•Šì€ ê²ƒì€?",
        options=[
            "ì—”íŠ¸ë¡œí”¼ëŠ” ë¡œê·¸ ì—°ì‚°ì„ ì‚¬ìš©í•˜ì—¬ ê³„ì‚°ì´ ë” ë³µì¡í•˜ë‹¤",
            "ì§€ë‹ˆ ë¶ˆìˆœë„ëŠ” ê³„ì‚°ì´ ë¹ ë¥´ë‹¤",
            "ì—”íŠ¸ë¡œí”¼ëŠ” í•­ìƒ ì§€ë‹ˆ ë¶ˆìˆœë„ë³´ë‹¤ í° ê°’ì„ ê°€ì§„ë‹¤",
            "ë‘˜ ë‹¤ ë¶ˆìˆœë„ ì¸¡ì •ì— ì‚¬ìš©ë˜ë©° ê²°ê³¼ê°€ ìœ ì‚¬í•˜ë‹¤"
        ],
        correct_answer=2,
        explanation="""
ì—”íŠ¸ë¡œí”¼ê°€ í•­ìƒ ì§€ë‹ˆ ë¶ˆìˆœë„ë³´ë‹¤ í° ê°’ì„ ê°€ì§„ë‹¤ëŠ” ê²ƒì€ í‹€ë ¸ìŠµë‹ˆë‹¤.

ì˜¬ë°”ë¥¸ íŠ¹ì„±:
- ì—”íŠ¸ë¡œí”¼: 0 ~ logâ‚‚(c) ë²”ìœ„, ë¡œê·¸ ì—°ì‚° ì‚¬ìš©
- ì§€ë‹ˆ ë¶ˆìˆœë„: 0 ~ (1-1/c) ë²”ìœ„, ì œê³± ì—°ì‚° ì‚¬ìš©
- ë‘ ì§€í‘œ ëª¨ë‘ ê°™ì€ ë¶„í• ì„ ì„ íƒí•˜ëŠ” ê²½ìš°ê°€ ë§ìŒ
- ì§€ë‹ˆê°€ ê³„ì‚°ìƒ ë” íš¨ìœ¨ì 
        """,
        category="ë¶„í•  ê¸°ì¤€"
    )
    
    # ë¬¸ì œ 4: ì •ë³´ ì´ë“
    quiz.add_question(
        question="""
ì •ë³´ ì´ë“(Information Gain)ì´ ë†’ë‹¤ëŠ” ê²ƒì€ ë¬´ì—‡ì„ ì˜ë¯¸í•˜ë‚˜ìš”?
        """,
        options=[
            "ë¶„í•  í›„ ë¶ˆìˆœë„ê°€ í¬ê²Œ ê°ì†Œí–ˆë‹¤",
            "ë¶„í•  í›„ ë¶ˆìˆœë„ê°€ ì¦ê°€í–ˆë‹¤",
            "íŠ¸ë¦¬ì˜ ê¹Šì´ê°€ ê¹Šì–´ì¡Œë‹¤",
            "íŠ¹ì„±ì˜ ê°œìˆ˜ê°€ ì¦ê°€í–ˆë‹¤"
        ],
        correct_answer=0,
        explanation="""
ì •ë³´ ì´ë“ = ë¶„í•  ì „ ë¶ˆìˆœë„ - ë¶„í•  í›„ ê°€ì¤‘í‰ê·  ë¶ˆìˆœë„

ì •ë³´ ì´ë“ì´ ë†’ë‹¤ëŠ” ê²ƒì€:
- ë¶„í• ë¡œ ì¸í•´ ë¶ˆìˆœë„ê°€ í¬ê²Œ ê°ì†Œí–ˆìŒì„ ì˜ë¯¸
- í•´ë‹¹ ë¶„í• ì´ í´ë˜ìŠ¤ë¥¼ ì˜ êµ¬ë¶„í•œë‹¤ëŠ” ëœ»
- ì˜ì‚¬ê²°ì •ë‚˜ë¬´ëŠ” ì •ë³´ ì´ë“ì´ ìµœëŒ€ì¸ ë¶„í• ì„ ì„ íƒ
- ì •ë³´ ì´ë“ì´ 0ì´ë©´ ë¶„í• ì˜ íš¨ê³¼ê°€ ì—†ìŒ
        """,
        category="ë¶„í•  ê¸°ì¤€"
    )
    
    # ë¬¸ì œ 5: íŠ¸ë¦¬ í•´ì„
    quiz.add_question(
        question="""
ë‹¤ìŒ ì˜ì‚¬ê²°ì •ë‚˜ë¬´ ê·œì¹™ì„ í•´ì„í•˜ì„¸ìš”:
IF (ë‚˜ì´ > 30) AND (ì†Œë“ > 50000) THEN ìŠ¹ì¸
ELSE IF (ë‚˜ì´ <= 30) AND (ì‹ ìš©ì ìˆ˜ > 700) THEN ìŠ¹ì¸  
ELSE ê±°ë¶€

35ì„¸, ì†Œë“ 45000, ì‹ ìš©ì ìˆ˜ 750ì¸ ê³ ê°ì˜ ê²°ê³¼ëŠ”?
        """,
        options=[
            "ìŠ¹ì¸",
            "ê±°ë¶€",
            "íŒë‹¨ ë¶ˆê°€",
            "ì¶”ê°€ ì •ë³´ í•„ìš”"
        ],
        correct_answer=1,
        explanation="""
ë‹¨ê³„ë³„ íŒë‹¨:
1. ë‚˜ì´ > 30? â†’ 35 > 30 = True
2. ì†Œë“ > 50000? â†’ 45000 > 50000 = False
3. ì²« ë²ˆì§¸ ì¡°ê±´ (ë‚˜ì´ > 30 AND ì†Œë“ > 50000) = True AND False = False
4. ë‘ ë²ˆì§¸ ì¡°ê±´ìœ¼ë¡œ ì´ë™: ë‚˜ì´ <= 30? â†’ 35 <= 30 = False
5. ëª¨ë“  ìŠ¹ì¸ ì¡°ê±´ì„ ë§Œì¡±í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ â†’ ê±°ë¶€

ì˜ì‚¬ê²°ì •ë‚˜ë¬´ëŠ” AND ì¡°ê±´ì„ ëª¨ë‘ ë§Œì¡±í•´ì•¼ í•´ë‹¹ ê²½ë¡œë¥¼ ë”°ë¼ê°‘ë‹ˆë‹¤.
        """,
        category="íŠ¸ë¦¬ í•´ì„"
    )
    
    # ë¬¸ì œ 6: íŠ¹ì„± ì¤‘ìš”ë„
    quiz.add_question(
        question="ì˜ì‚¬ê²°ì •ë‚˜ë¬´ì—ì„œ íŠ¹ì„± ì¤‘ìš”ë„ëŠ” ì–´ë–»ê²Œ ê³„ì‚°ë˜ë‚˜ìš”?",
        options=[
            "í•´ë‹¹ íŠ¹ì„±ì´ ì‚¬ìš©ëœ ë…¸ë“œì—ì„œì˜ ì •ë³´ ì´ë“ì˜ ê°€ì¤‘í•©",
            "í•´ë‹¹ íŠ¹ì„±ì˜ ë¶„ì‚°",
            "í•´ë‹¹ íŠ¹ì„±ê³¼ íƒ€ê²Ÿì˜ ìƒê´€ê³„ìˆ˜",
            "í•´ë‹¹ íŠ¹ì„±ì´ ì‚¬ìš©ëœ íšŸìˆ˜"
        ],
        correct_answer=0,
        explanation="""
íŠ¹ì„± ì¤‘ìš”ë„ ê³„ì‚°:
- ê° íŠ¹ì„±ì´ ë¶„í• ì— ì‚¬ìš©ëœ ëª¨ë“  ë…¸ë“œì—ì„œì˜ ì •ë³´ ì´ë“ì„ ê³„ì‚°
- ë…¸ë“œì˜ ìƒ˜í”Œ ë¹„ìœ¨ë¡œ ê°€ì¤‘í‰ê· í•˜ì—¬ í•©ì‚°
- ì „ì²´ í•©ì´ 1ì´ ë˜ë„ë¡ ì •ê·œí™”

ì¤‘ìš”ë„ê°€ ë†’ì€ íŠ¹ì„±:
- íŠ¸ë¦¬ ìƒë‹¨(ë£¨íŠ¸ ê·¼ì²˜)ì—ì„œ ì‚¬ìš©
- ë§ì€ ìƒ˜í”Œì„ í¬í•¨í•œ ë…¸ë“œì—ì„œ ì‚¬ìš©
- í° ì •ë³´ ì´ë“ì„ ì œê³µ
        """,
        category="íŠ¸ë¦¬ í•´ì„"
    )
    
    # ë¬¸ì œ 7: ê³¼ì í•© íƒì§€
    quiz.add_question(
        question="""
ë‹¤ìŒ ì¤‘ ì˜ì‚¬ê²°ì •ë‚˜ë¬´ì˜ ê³¼ì í•©ì„ ë‚˜íƒ€ë‚´ëŠ” ì‹ í˜¸ê°€ ì•„ë‹Œ ê²ƒì€?
        """,
        options=[
            "í›ˆë ¨ ì •í™•ë„ 95%, í…ŒìŠ¤íŠ¸ ì •í™•ë„ 70%",
            "íŠ¸ë¦¬ ê¹Šì´ê°€ 20 ì´ìƒ",
            "ë¦¬í”„ ë…¸ë“œì— ìƒ˜í”Œì´ 1ê°œì”©ë§Œ ìˆìŒ",
            "ëª¨ë“  íŠ¹ì„±ì˜ ì¤‘ìš”ë„ê°€ ë¹„ìŠ·í•¨"
        ],
        correct_answer=3,
        explanation="""
ê³¼ì í•© ì‹ í˜¸ë“¤:
1. í›ˆë ¨-í…ŒìŠ¤íŠ¸ ì„±ëŠ¥ ì°¨ì´ê°€ í¼ (ì˜ˆ: 95% vs 70%)
2. íŠ¸ë¦¬ê°€ ë„ˆë¬´ ê¹ŠìŒ (ì¼ë°˜ì ìœ¼ë¡œ 10 ì´ìƒì´ë©´ ì˜ì‹¬)
3. ë¦¬í”„ ë…¸ë“œì˜ ìƒ˜í”Œ ìˆ˜ê°€ ë„ˆë¬´ ì ìŒ
4. íŠ¸ë¦¬ê°€ ë„ˆë¬´ ë³µì¡í•¨

íŠ¹ì„± ì¤‘ìš”ë„ê°€ ë¹„ìŠ·í•œ ê²ƒì€ ê³¼ì í•©ê³¼ ì§ì ‘ì  ê´€ë ¨ì´ ì—†ìŠµë‹ˆë‹¤.
ì˜¤íˆë ¤ í•œ íŠ¹ì„±ì—ë§Œ ì˜ì¡´í•˜ëŠ” ê²ƒì´ ë” ë¬¸ì œê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        """,
        category="ê³¼ì í•©"
    )
    
    # ë¬¸ì œ 8: ê°€ì§€ì¹˜ê¸° ë°©ë²•
    quiz.add_question(
        question="ì‚¬ì „ ê°€ì§€ì¹˜ê¸°(Pre-pruning)ì˜ ë°©ë²•ì´ ì•„ë‹Œ ê²ƒì€?",
        options=[
            "ìµœëŒ€ ê¹Šì´ ì œí•œ (max_depth)",
            "ìµœì†Œ ë¶„í•  ìƒ˜í”Œ ìˆ˜ ì„¤ì • (min_samples_split)",
            "ì™„ì „í•œ íŠ¸ë¦¬ êµ¬ì¶• í›„ ë…¸ë“œ ì œê±°",
            "ìµœì†Œ ë¶ˆìˆœë„ ê°ì†ŒëŸ‰ ì„¤ì • (min_impurity_decrease)"
        ],
        correct_answer=2,
        explanation="""
ì‚¬ì „ ê°€ì§€ì¹˜ê¸° (Pre-pruning):
- íŠ¸ë¦¬ êµ¬ì¶• ì¤‘ì— ì„±ì¥ì„ ì¡°ê¸° ì¤‘ë‹¨
- max_depth: ìµœëŒ€ ê¹Šì´ ì œí•œ
- min_samples_split: ë¶„í•  ìµœì†Œ ìƒ˜í”Œ ìˆ˜
- min_samples_leaf: ë¦¬í”„ ë…¸ë“œ ìµœì†Œ ìƒ˜í”Œ ìˆ˜
- min_impurity_decrease: ìµœì†Œ ë¶ˆìˆœë„ ê°ì†ŒëŸ‰

ì‚¬í›„ ê°€ì§€ì¹˜ê¸° (Post-pruning):
- ì™„ì „í•œ íŠ¸ë¦¬ êµ¬ì¶• í›„ ë¶ˆí•„ìš”í•œ ë…¸ë“œ ì œê±°
- ë¹„ìš© ë³µì¡ë„ ê°€ì§€ì¹˜ê¸° ë“±
        """,
        category="ê³¼ì í•©"
    )
    
    # ë¬¸ì œ 9: í•˜ì´í¼íŒŒë¼ë¯¸í„°
    quiz.add_question(
        question="""
ë‹¤ìŒ ìƒí™©ì—ì„œ ì–´ë–¤ í•˜ì´í¼íŒŒë¼ë¯¸í„°ë¥¼ ì¡°ì •í•´ì•¼ í• ê¹Œìš”?
"íŠ¸ë¦¬ê°€ ë„ˆë¬´ ë³µì¡í•´ì„œ ê³¼ì í•©ì´ ë°œìƒí•˜ê³  ìˆìŠµë‹ˆë‹¤."
        """,
        options=[
            "max_depthë¥¼ ì¦ê°€ì‹œí‚¨ë‹¤",
            "min_samples_splitì„ ê°ì†Œì‹œí‚¨ë‹¤",
            "max_depthë¥¼ ê°ì†Œì‹œí‚¤ê±°ë‚˜ min_samples_splitì„ ì¦ê°€ì‹œí‚¨ë‹¤",
            "criterionì„ 'gini'ì—ì„œ 'entropy'ë¡œ ë³€ê²½í•œë‹¤"
        ],
        correct_answer=2,
        explanation="""
ê³¼ì í•© í•´ê²° ë°©ë²•:
1. max_depth ê°ì†Œ: íŠ¸ë¦¬ ê¹Šì´ ì œí•œìœ¼ë¡œ ë³µì¡ë„ ê°ì†Œ
2. min_samples_split ì¦ê°€: ë¶„í•  ì¡°ê±´ì„ ê¹Œë‹¤ë¡­ê²Œ ë§Œë“¦
3. min_samples_leaf ì¦ê°€: ë¦¬í”„ ë…¸ë“œ ìµœì†Œ í¬ê¸° ì¦ê°€
4. max_features ê°ì†Œ: ë¶„í•  ì‹œ ê³ ë ¤í•  íŠ¹ì„± ìˆ˜ ì œí•œ

criterion ë³€ê²½ì€ ê³¼ì í•©ê³¼ ì§ì ‘ì  ê´€ë ¨ì´ ì ìŠµë‹ˆë‹¤.
        """,
        category="ê³¼ì í•©"
    )
    
    # ë¬¸ì œ 10: ì‹¤ì œ ì ìš©
    quiz.add_question(
        question="""
ì˜ë£Œ ì§„ë‹¨ ì‹œìŠ¤í…œì—ì„œ ì˜ì‚¬ê²°ì •ë‚˜ë¬´ë¥¼ ì‚¬ìš©í•  ë•Œ ê°€ì¥ ì¤‘ìš”í•œ ê³ ë ¤ì‚¬í•­ì€?
        """,
        options=[
            "ì‹¤í–‰ ì†ë„",
            "í•´ì„ ê°€ëŠ¥ì„±ê³¼ ì„¤ëª… ê°€ëŠ¥ì„±",
            "ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰",
            "íŠ¹ì„± ê°œìˆ˜"
        ],
        correct_answer=1,
        explanation="""
ì˜ë£Œ ì§„ë‹¨ì—ì„œ ì¤‘ìš”í•œ ìš”ì†Œ:
1. í•´ì„ ê°€ëŠ¥ì„±: ì˜ì‚¬ê°€ ì§„ë‹¨ ê³¼ì •ì„ ì´í•´í•  ìˆ˜ ìˆì–´ì•¼ í•¨
2. ì„¤ëª… ê°€ëŠ¥ì„±: í™˜ìì—ê²Œ ì§„ë‹¨ ê·¼ê±°ë¥¼ ì„¤ëª…í•  ìˆ˜ ìˆì–´ì•¼ í•¨
3. íˆ¬ëª…ì„±: ì˜ë£Œì§„ì´ ëª¨ë¸ì˜ ê²°ì • ê³¼ì •ì„ ê²€ì¦í•  ìˆ˜ ìˆì–´ì•¼ í•¨

ì˜ì‚¬ê²°ì •ë‚˜ë¬´ì˜ ì¥ì :
- IF-THEN ê·œì¹™ìœ¼ë¡œ ëª…í™•í•œ ì„¤ëª… ê°€ëŠ¥
- ê° ë¶„í•  ì¡°ê±´ì˜ ì˜ë¯¸ë¥¼ ì‰½ê²Œ ì´í•´
- ë„ë©”ì¸ ì „ë¬¸ê°€ì˜ ê²€ì¦ ìš©ì´
        """,
        category="ì‹¤ì œ ì ìš©"
    )
    
    # ë¬¸ì œ 11: ì•Œê³ ë¦¬ì¦˜ ë¹„êµ
    quiz.add_question(
        question="ì˜ì‚¬ê²°ì •ë‚˜ë¬´ì™€ ë¡œì§€ìŠ¤í‹± íšŒê·€ì˜ ì£¼ìš” ì°¨ì´ì ì€?",
        options=[
            "ì˜ì‚¬ê²°ì •ë‚˜ë¬´ëŠ” ì„ í˜• ê²°ì • ê²½ê³„ë§Œ ë§Œë“¤ ìˆ˜ ìˆë‹¤",
            "ë¡œì§€ìŠ¤í‹± íšŒê·€ëŠ” í™•ë¥ ì„ ì¶œë ¥í•˜ì§€ë§Œ ì˜ì‚¬ê²°ì •ë‚˜ë¬´ëŠ” í´ë˜ìŠ¤ë§Œ ì¶œë ¥í•œë‹¤",
            "ì˜ì‚¬ê²°ì •ë‚˜ë¬´ëŠ” ë²”ì£¼í˜• ë°ì´í„°ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ì—†ë‹¤",
            "ë¡œì§€ìŠ¤í‹± íšŒê·€ëŠ” ë‹¤ì¤‘ í´ë˜ìŠ¤ ë¶„ë¥˜ê°€ ë¶ˆê°€ëŠ¥í•˜ë‹¤"
        ],
        correct_answer=1,
        explanation="""
ì£¼ìš” ì°¨ì´ì :
1. ì¶œë ¥ í˜•íƒœ:
   - ë¡œì§€ìŠ¤í‹± íšŒê·€: ê° í´ë˜ìŠ¤ì˜ í™•ë¥  ì¶œë ¥
   - ì˜ì‚¬ê²°ì •ë‚˜ë¬´: í´ë˜ìŠ¤ ë ˆì´ë¸” ì¶œë ¥ (í™•ë¥  ê³„ì‚° ê°€ëŠ¥í•˜ì§€ë§Œ ê¸°ë³¸ì€ í´ë˜ìŠ¤)

2. ê²°ì • ê²½ê³„:
   - ë¡œì§€ìŠ¤í‹± íšŒê·€: ì„ í˜• ê²°ì • ê²½ê³„
   - ì˜ì‚¬ê²°ì •ë‚˜ë¬´: ë¹„ì„ í˜•, ì§ì‚¬ê°í˜• í˜•íƒœ ê²½ê³„

3. í•´ì„ì„±:
   - ë‘˜ ë‹¤ í•´ì„ ê°€ëŠ¥í•˜ì§€ë§Œ ë°©ì‹ì´ ë‹¤ë¦„
   - ì˜ì‚¬ê²°ì •ë‚˜ë¬´: ê·œì¹™ ê¸°ë°˜
   - ë¡œì§€ìŠ¤í‹± íšŒê·€: ê³„ìˆ˜ ê¸°ë°˜
        """,
        category="ì•Œê³ ë¦¬ì¦˜ ë¹„êµ"
    )
    
    # ë¬¸ì œ 12: ê³ ê¸‰ ê°œë…
    quiz.add_question(
        question="""
ë‹¤ìŒ ì¤‘ ì˜ì‚¬ê²°ì •ë‚˜ë¬´ì˜ í•œê³„ë¥¼ ê·¹ë³µí•˜ê¸° ìœ„í•œ ì•™ìƒë¸” ë°©ë²•ì´ ì•„ë‹Œ ê²ƒì€?
        """,
        options=[
            "Random Forest",
            "Gradient Boosting",
            "AdaBoost",
            "K-Means Clustering"
        ],
        correct_answer=3,
        explanation="""
ì˜ì‚¬ê²°ì •ë‚˜ë¬´ ê¸°ë°˜ ì•™ìƒë¸” ë°©ë²•:
1. Random Forest: ë°°ê¹… + íŠ¹ì„± ë¬´ì‘ìœ„ ì„ íƒ
2. Gradient Boosting: ìˆœì°¨ì  ë¶€ìŠ¤íŒ…
3. AdaBoost: ì ì‘ì  ë¶€ìŠ¤íŒ…
4. Extra Trees: ê·¹ë„ë¡œ ë¬´ì‘ìœ„í™”ëœ íŠ¸ë¦¬

K-MeansëŠ” í´ëŸ¬ìŠ¤í„°ë§ ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ì˜ì‚¬ê²°ì •ë‚˜ë¬´ì™€ ê´€ë ¨ì´ ì—†ìŠµë‹ˆë‹¤.

ì•™ìƒë¸”ì˜ ì¥ì :
- ê°œë³„ íŠ¸ë¦¬ì˜ ê³¼ì í•© ë¬¸ì œ í•´ê²°
- ì˜ˆì¸¡ ì„±ëŠ¥ í–¥ìƒ
- ì•ˆì •ì„± ì¦ê°€
        """,
        category="ê³ ê¸‰ ê°œë…"
    )
    
    return quiz

def main():
    """í€´ì¦ˆ ì‹¤í–‰"""
    print("=" * 60)
    print("ì˜ì‚¬ê²°ì •ë‚˜ë¬´ í€´ì¦ˆ")
    print("=" * 60)
    print("ì˜ì‚¬ê²°ì •ë‚˜ë¬´ì˜ ë¶„í•  ê¸°ì¤€, íŠ¸ë¦¬ í•´ì„, ê³¼ì í•© ë°©ì§€ì— ëŒ€í•œ ì´í•´ë„ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.")
    print()
    
    # í€´ì¦ˆ ìƒì„± ë° ì‹¤í–‰
    quiz = create_decision_tree_quiz()
    results = quiz.run_quiz()
    
    # ìƒì„¸ ê²°ê³¼ ë¶„ì„
    print("\n" + "=" * 60)
    print("ìƒì„¸ ë¶„ì„ ê²°ê³¼")
    print("=" * 60)
    
    categories = ["ê¸°ë³¸ ê°œë…", "ë¶„í•  ê¸°ì¤€", "íŠ¸ë¦¬ í•´ì„", "ê³¼ì í•©", "ì‹¤ì œ ì ìš©", "ì•Œê³ ë¦¬ì¦˜ ë¹„êµ", "ê³ ê¸‰ ê°œë…"]
    
    for category in categories:
        category_questions = [q for q in quiz.questions if q.get('category') == category]
        if category_questions:
            correct = sum(1 for q in category_questions if results['answers'].get(q['question'], -1) == q['correct_answer'])
            total = len(category_questions)
            percentage = (correct / total) * 100
            print(f"{category}: {correct}/{total} ({percentage:.1f}%)")
    
    # í•™ìŠµ ê¶Œì¥ì‚¬í•­
    print(f"\nì´ì : {results['score']}/{results['total']} ({results['percentage']:.1f}%)")
    
    if results['percentage'] >= 90:
        print("ğŸ‰ í›Œë¥­í•©ë‹ˆë‹¤! ì˜ì‚¬ê²°ì •ë‚˜ë¬´ë¥¼ ì™„ì „íˆ ì´í•´í•˜ê³  ìˆìŠµë‹ˆë‹¤.")
    elif results['percentage'] >= 80:
        print("ğŸ‘ ì¢‹ìŠµë‹ˆë‹¤! ëŒ€ë¶€ë¶„ì˜ ê°œë…ì„ ì˜ ì´í•´í•˜ê³  ìˆìŠµë‹ˆë‹¤.")
    elif results['percentage'] >= 70:
        print("ğŸ“š ê¸°ë³¸ê¸°ëŠ” íƒ„íƒ„í•©ë‹ˆë‹¤. ê³ ê¸‰ ê°œë…ì„ ë” í•™ìŠµí•´ë³´ì„¸ìš”.")
    else:
        print("ğŸ’ª ë” ë§ì€ í•™ìŠµì´ í•„ìš”í•©ë‹ˆë‹¤. ì´ë¡ ê³¼ ì‹¤ìŠµì„ ë‹¤ì‹œ ë³µìŠµí•´ë³´ì„¸ìš”.")
    
    # ì·¨ì•½ ë¶„ì•¼ ë¶„ì„
    weak_categories = []
    for category in categories:
        category_questions = [q for q in quiz.questions if q.get('category') == category]
        if category_questions:
            correct = sum(1 for q in category_questions if results['answers'].get(q['question'], -1) == q['correct_answer'])
            total = len(category_questions)
            if (correct / total) < 0.7:  # 70% ë¯¸ë§Œ
                weak_categories.append(category)
    
    if weak_categories:
        print(f"\nğŸ“– ì¶”ê°€ í•™ìŠµ ê¶Œì¥ ë¶„ì•¼: {', '.join(weak_categories)}")
        print("í•´ë‹¹ ë¶„ì•¼ì˜ ì´ë¡  ë¬¸ì„œì™€ ì‹¤ìŠµ ì½”ë“œë¥¼ ë‹¤ì‹œ í™•ì¸í•´ë³´ì„¸ìš”.")

if __name__ == "__main__":
    main()